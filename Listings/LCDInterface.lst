C51 COMPILER V9.60.7.0   LCDINTERFACE                                                      08/14/2024 20:50:30 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE LCDINTERFACE
OBJECT MODULE PLACED IN .\Objects\LCDInterface.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE LCDInterface.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listi
                    -ngs\LCDInterface.lst) TABS(2) OBJECT(.\Objects\LCDInterface.obj)

line level    source

   1          #include <reg51.h>
   2          
   3          sbit rs=P2^0;
   4          sbit en=P2^1;
   5          //data is on P3 (P3.0 -> P3.7)
   6          void lcd_init();
   7          void lcd_cmd(unsigned char cmd);
   8          void lcd_data(unsigned char dat);
   9          void lcd_print(unsigned char *str);
  10          void set_cursor(unsigned int row, unsigned int column);
  11          void lcd_clear();
  12          void delay(unsigned int time){
  13   1        unsigned int i,j;
  14   1        for (i=0;i<time;i++){
  15   2          for(j=0;j<1275;j++);
  16   2        }
  17   1      }
  18          void main(){
  19   1        lcd_init();
  20   1        //lcd_data('S');
  21   1        //lcd_data('a');
  22   1        //lcd_data('m');
  23   1        //lcd_data('u');
  24   1        //lcd_data('e');
  25   1        //lcd_data('l');
  26   1        lcd_print("Hello World");
  27   1        delay(1000);
  28   1        set_cursor(2,4);
  29   1        lcd_print("Samuel Lunghe");
  30   1        delay(1000);
  31   1        lcd_clear();
  32   1        set_cursor(1,1);
  33   1        lcd_print("8051 uC");
  34   1        while (1);
  35   1      }
  36          void lcd_init(){
  37   1        lcd_cmd(0x38);
  38   1        lcd_cmd(0x0C);
  39   1        lcd_cmd(0x01);
  40   1        lcd_cmd(0x80);
  41   1      } 
  42          void lcd_cmd(unsigned char cmd){
  43   1        rs=0;
  44   1        P3=cmd;
  45   1        en=1;
  46   1        delay(5);
  47   1        en=0;
  48   1      }
  49          void lcd_data(unsigned char dat){
  50   1        rs=1;
  51   1        P3=dat;
  52   1        en=1;
  53   1        delay(5);
  54   1        en=0;
C51 COMPILER V9.60.7.0   LCDINTERFACE                                                      08/14/2024 20:50:30 PAGE 2   

  55   1      }
  56          void lcd_print(unsigned char *str){
  57   1        while (*str != '\0'){
  58   2          lcd_data(*str);
  59   2          str++;
  60   2        }
  61   1      }
  62          void set_cursor(unsigned int row, unsigned int column){
  63   1        switch(row){
  64   2          case 1:
  65   2            lcd_cmd(0x80+column-1);
  66   2            break;
  67   2          case 2:
  68   2             lcd_cmd(0xC0+column-1);
  69   2             break;
  70   2          default:
  71   2            lcd_cmd(0x80);
  72   2            break;
  73   2        }
  74   1      }
  75          void lcd_clear(){
  76   1        lcd_cmd(0x01);
  77   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    221    ----
   CONSTANT SIZE    =     34    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       5
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
